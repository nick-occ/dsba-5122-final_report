#Data/Operation Abstraction Design {#data}

We used a variety of sources to get information about opioids.  The original data that we looked at for the project was related to prescribers and was Medicare Part D Prescriber data for 2016 from the Centers for Medicare and Medicaid Services (CMS) [@MedicarePartD].  The raw data was a very large file because it listed records for every practice and drug prescribed.  We decided to use summary tables provided by CMS at the state and national level, because they were aggregated amounts.  I cleaned the data by changing the field names to match what was in the CMS data dictionary, and only including record where the flags classifying it as an Opioid or Long-Acting Opioid were set to ‘Y’.  This significantly improved the performance loading the data because majority of the records were non opioid records.

As a tool for researchers we wanted to provide different characteristics related to opioid death to see what groups are affected by opioid use the most. Based on the data we found we chose to use race [@DeathbyRace], age groups [@DeathbyAge] and the type of opioids [@DeathbyOpioid].  They had data dating back to 1999, after collecting all our data we chose to do analysis from 2010 to 2015 based on the common years we had data on for all the data sets.

We used shapefiles for the spatial data consisting data at the state level and also data at the county level for our analysis on prescriptions rates.  The prescription rate data was provided by the Centers for Disease Control and Prevention Opioid Prescribing Rate Maps [@CDCOverdose].  Data was not combined into one dataset for all the years, so we manually put together the dataset.   We found data at the county level that studied data from 2010 and 2015 and determined if the prescriptions were increasing, decreasing or stable [@OpioidPresc].  We thought it would be worthwhile to capture that level of detail, so we made the data interactive when a user clicks on a state at county map for that state will appear with the color encodings.

